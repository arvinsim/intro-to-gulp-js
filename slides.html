<!DOCTYPE html>
<html>
    <head>
        <title>Introduction to gulp.js</title>
        <link rel="stylesheet" href="./bower_components/reveal.js/css/reveal.min.css">
        <link rel="stylesheet" href="./bower_components/reveal.js/css/theme/night.css">
        <script src="http://cdnjs.cloudflare.com/ajax/libs/headjs/1.0.3/head.min.js"></script>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section data-background="#400000">
                    <img src="./assets/images/gulp.png" alt="Gulp" style="border: none; background: none; box-shadow: none;">
                    <h1>Introduction to build systems with gulp.js</h1>
                    <p>The streaming build system</p>        
                </section>
                <section>
                    <h2>The obligatory introduction speech</h2>
                    <ul>
                        <li class="fragment roll-in">Name: Arthur Vincent Simon</li>
                        <li class="fragment roll-in">Occupation: Web Developer at Innovuze Inc.</li>
                    </ul>
                </section>
                <section>
                    <img src="./assets/images/aint_nobody_got_time_for_that.jpg" alt="Ain't nobody got time for that">
                </section>
                <section data-background="#1A4241">
                    <h2>Summary</h2>
                    <ul>
                        <li class="fragment roll-in">
                            <em>Build Systems</em>
                            <ul>
                                <li>What are they?</li>
                                <li>Why are they relevant in the programming world?</li>
                                <li>In what way can they be useful for me?</li>
                            </ul>
                        </li>
                        <li class="fragment roll-in">
                            <em>A VERY brief description of node.js and npm</em>
                        </li>
                        <li class="fragment roll-in">
                            <em>Introduction to gulp.js</em>
                            <ul>
                                <li>What is gulp.js?</li>
                                <li>Why use gulp.js?</li>
                            </ul>
                        </li>
                    </ul>
                </section>
                <section>
                    <img src="./assets/images/still_interested.jpg" alt="Still Interested">
                </section>
                <section>
                    <h2>Summary continued</h2>
                    <ul>
                        <li class="fragment roll-in">
                            <em>gulp.js basics</em>
                            <ul>
                                <li>Installation</li>
                                <li>4 core gulp.js functions and a basic example</li>
                            </ul>
                        </li>
                        <li class="fragment roll-in">
                            <em>Basic exercises such as CSS and JS minification and image optimizations</em>
                        </li>
                        <li class="fragment roll-in">
                            <em>Advanced exercises such as linting, bundling modules and synchronized browser testing</em>
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>What I won't cover</h2>
                    <ul>
                        <li class="fragment roll-in">The nitty gritty of node.js streams</li>
                        <li class="fragment roll-in">Multiple build setups like separate builds for
                        development and production</li>
                        <li class="fragment roll-in">Building gulp plugins</li>
                        <li class="fragment roll-in">Gulp vs Grunt flame wars</li>
                    </ul>
                </section>
                <section>
                    <img src="./assets/images/savvy.jpg" alt="savvy?">
                </section>
            </div>              

            <!-- Build Systems -->
            <div class="slides">
                <section data-background="#1A4241">
                    <h2>Build systems/Build automation</h2>
                </section>
                <section>
                    <h2>Definition</h2>
                    <blockquote class="fragment roll-in">
                        <p>Build automation is the act of scripting or automating a wide variety of tasks that software developers do in their day-to-day activities including things like:</p>
                        <ul>
                            <li class="fragment roll-in">Compiling computer source code into binary code</li>
                            <li class="fragment roll-in">Packaging binary code</li>
                            <li class="fragment roll-in">Running automated tests</li>
                            <li class="fragment roll-in">Deploying to production systems</li>
                            <li class="fragment roll-in">Creating documentation and/or release notes</li>
                        </ul>
                    </blockquote>
                </section>
                <section>
                    <h2>What this means for a web developer</h2>
                    <ul>
                        <li class="fragment roll-in">Running Unit tests</li>
                        <li class="fragment roll-in">Linting and minification of JS files</li>
                        <li class="fragment roll-in">Compiling/Preprocessing LESS, SASS and/or Coffeescript Files</li>
                        <li class="fragment roll-in">Asset Optimization</li>
                        <li class="fragment roll-in">Deployment to Production Servers</li>
                    </ul>
                </section>
                <section>
                    <h2>A few examples</h2>
                    <ul>
                        <li class="fragment roll-in">GNU make</li>
                        <li class="fragment roll-in">Rake (Ruby)</li>
                        <li class="fragment roll-in">Maven (Java)</li>
                        <li class="fragment roll-in">Ant (Java)</li>
                        <li class="fragment roll-in">Scons (Python)</li>
                        <li class="fragment roll-in">A-A-P (Python)</li>
                        <li class="fragment roll-in">Grunt (Javascript)</li>
                    </ul>
                </section>
                <section>
                    <h2>How can they help me?</h2>
                    <ul>
                        <li class="fragment roll-in">Improve product quality</li>
                        <li class="fragment roll-in">Eliminate redundant tasks</li>
                        <li class="fragment roll-in">Eliminate dependencies on key personnel</li>
                        <li class="fragment roll-in">Have history of builds and releases in order to investigate issues</li>
                        <li class="fragment roll-in">Save time and money - because of the reasons listed above.</li>
                    </ul>
                </section>
            </div>

            <!-- Node.js and NPM -->
            <div class="slides">
                <section>
                    <img src="./assets/images/detour.jpg" alt="Let us sidetrack a bit">
                </section>
                <section data-background="#1A4241">
                    <h2>NodeJS and NPM</h2>
                    <img src="./assets/images/nodejs.png" alt="Node.js" style="border: none; background: none; box-shadow: none;">
                </section>
                <section>
                    <h2>Definition</h2>
                    <ul>
                        <li><strong>Node.js</strong> - Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications</li>
                        <li><strong>NPM</strong> - Stands for Node Packaged Modules(NPM). It is the official package manager for Node.js</li>
                    </ul>
                </section>
                <section>
                    <h2>So what is their relation to node.js</h2>
                    <p class="fragment roll-in">To put it simply, gulp.js is built on top of node.js</p>
                </section>
                <section>
                    <h2>What does this mean?</h2>
                    <ul>
                        <li class="fragment roll-in">gulp.js can use Node.js native modules</li>
                        <li class="fragment roll-in">gulp.js-specific packages is retrieved via NPM</li>
                    </ul>
                </section>
                <section>
                    <img src="./assets/images/back_to_our_regular_scheduled_programming.jpg" alt="And now, back to our regular scheduled programming">
                </section>
            </div>

            <div class="slides">
                <section data-background="#1A4241">
                    <h2>So what is gulp.js?</h2>
                </section>
                <section>
                    <h2>Task / Build Runner / Build System</h2>
                </section>                    
                <section>
                    <h2>Uses native Javascript syntax</h2>
                    <pre>
                        <code>
                        var gulp = require('gulp');

                        gulp.task('default', function() {
                          // place code for your default task here
                        });
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Uses pipes or streaming build</h2>
                    <img src="./assets/images/piping.png" alt="Piping">
                </section>
            </div>

            <div class="slides">
                <!-- gulp.js installation -->
                <section data-background="#1A4241">
                    <h2>Gulp Installation</h2>
                    <img src="./assets/images/install_wizard.jpg" alt="Gulp Installation">
                </section>
                <section>
                    <h2>Step 1: Install node.js and npm</h2>
                    <ul>
                        <li class="fragment roll-in">
                            <p>Check if node.js is installed by running this code</p>
                            <pre>
                                <code>node -v</code>
                            </pre>
                            <p>(The -v flag is to show the version of node.js)</p>
                        </li>
                        <li class="fragment roll-in">
                            <ul>
                                <li>
                                    <p>If the code above outputs something like..</p>
                                    <pre>
                                        <code>v0.10.26</code>
                                    </pre>
                                    <p>...then node.js is already installed</p>
                                </li>
                                <li>
                                    <p>If the code above outputs something different, then try installing using this command</p>
                                    <pre>
                                        <code>sudo apt-get install node.js</code>
                                    </pre>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>Step 2: Install gulp.js</h2>
                    <ul>
                        <li class="fragment roll-in">
                            <p>Run this command</p>
                            <pre>
                                <code>npm install gulp -g</code>
                            </pre>
                            <p>Note: the -g flag is to ensure gulp is available globally to all projects</p>
                        </li>
                        <li class="fragment roll-in">
                            <p>If you are using Mac or Linux OS, you might need to prepend sudo</p>
                            <pre>
                                <code>sudo npm install gulp -g</code>
                            </pre>
                        </li>
                        <li class="fragment roll-in">
                            <p>Check if gulp was installed properly by checking the version via the -v flag</p>
                            <pre>
                                <code>gulp -v</code>
                            </pre>
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>Step 3: Setup your project</h2>
                    <ul>
                        <li class="fragment roll-in">
                            <p>Install Gulp locally</p>
                            <pre>
                            <code>npm install gulp --save-dev</code>
                            </pre>
                            <p>Note: This will create a node_modules folder within your current directory. This contains the code for gulp and gulp plugins</p>
                        </li>
                        <li class="fragment roll-in">
                            <p>Create an empty gulpfile.js file in your current folder</p>
                        </li>
                    </ul>
                </section>
                <section>
                    <h2>Step 4: Download any plugin that we need</h2>
                    <p>For now, let us just skip this since this is a case-to-case basis.</p>
                </section>
            </div>

            <div class="slides">
                <!-- 4 gulp.js api commands -->
                <section data-background="#1A4241">
                    <h2>gulp.js API commands</h2>
                </section>
                <section>
                    <h2>Basic example</h2>
                    <p class="fragment roll-in">Not that's done, let us get into a very simple, barebones, do-nothing example</p>
                    <pre class="fragment roll-in">
                        <code>
                            var gulp = require('gulp');

                            gulp.task('default', function() {
                              // place code for your default task here
                            });
                        </code>
                    </pre>
                </section>
                <section>Let's try something a little bit more useful</section>
                <section>
                    <h2>"Useful" example</h2>
                    <pre>
                        <code>
                            var gulp = require('gulp'),
                                minifyHtml = require('gulp-minify-html'),
                                minifyCss = require('gulp-minify-css'),
                                uglify = require('gulp-uglify'),
                                rename = require('gulp-rename');
                             
                            gulp.task('minify-html', function() {
                                gulp.src('./index.html')
                                    .pipe(minifyHtml())
                                    .pipe(rename('index.min.html'))
                                    .pipe(gulp.dest('./'));
                            });

                            gulp.task('minify-css', function() {
                                gulp.src('./css/src/*.css')
                                    .pipe(minifyCss())
                                    .pipe(gulp.dest('./css/min/'));
                            });

                            gulp.task('minify-javascript', function() {
                                gulp.src('js/app.js')
                                    .pipe(uglify())
                                    .pipe(gulp.dest('./js/min/'));
                            });

                            gulp.task('default', ['minify-html', 'minify-css', 'minify-javascript']);
                        </code>
                    </pre>
                </section>
                <section data-background="#1A4241">
                    <h2>4 gulp.js api commands</h2>
                    <ul>
                        <li class="fragment roll-in">Define tasks with <strong>gulp.task()</strong></li>
                        <li class="fragment roll-in">Open files/directories with <strong>gulp.src()</strong></li>
                        <li class="fragment roll-in">Output files/directories with <strong>gulp.dest()</strong></li>
                        <li class="fragment roll-in">Watch the file system for changes with <strong>gulp.watch()</strong></li>
                    </ul>
                </section>
                <section>
                    <section>
                        <h2>gulp.task()</h2>
                        <p>To define a task, use the gulp.task() function. When you define a simple task, this function takes two attributes: the task's name and a function to run.</p>
                        <pre>
                            <code>
                                gulp.task('minify-html', function () {
                                    gulp.src('./index.html')
                                        .pipe(minifyHtml())
                                        .pipe(rename('index.min.html'))
                                        .pipe(gulp.dest('./'));
                                });
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>gulp.task()</h2>
                        <p>A task may also be a list of other tasks. Suppose we want to define a build task that runs three other tasks, css, js and imgs. We can do this by specifying an array of tasks, instead of the function:</p>
                        <pre>
                            <code>
                                gulp.task('default', ['minify-html', 'minify-css', 'minify-javascript']);
                            </code>
                        </pre>
                        <p>Important: This are run asynchronously/concurrently</p>
                    </section>
                    <section>
                        <h2>gulp.task()</h2>
                        <p>To make sure that a task has finished running before another task runs, you can specify dependencies by combining the array of tasks with the function. For example, to define a css task that checks that the greet task has finished running before it runs, you can do this:</p>
                        <pre>
                            <code>
                                gulp.task('minify-css', ['minify-css', 'minify-javascript'], function () {
                                    // Deal with CSS here
                                });
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>gulp.task()</h2>
                        <p>If you don't specify a task to run in the commandline gulp call, it will try to find a task named <q>default</q> and execute that</p>
                        <pre>
                            <code>
                                gulp.task('default', ['minify-html', 'minify-css', 'minify-javascript']);
                            </code>
                        </pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>gulp.src()</h2>
                        <p>The <q>gulp.src()</q> function takes a glob (i.e. a string matching one or more files) or an array of globs and returns a stream that can be piped to plugins.</p>
                        <pre>
                            <code>
                                gulp.src('js/app.js')
                                    .pipe(uglify())
                                    ...
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>gulp.src()</h2>
                        <p>Gulp uses node-glob to get the files from the glob or globs you specify.</p>
                        <ul>
                            <li>
                                <div><q>js/app.js</q></div>
                                <p>Matches the exact file</p>
                            </li>
                             <li>
                                <div><q>js/*.js</q></div>
                                <p>Matches all files ending in .js in the js directory only</p>
                            </li>
                            <li>
                                <div><q>js/**/*.js</q></div>
                                <p>Matches all files ending in .js in the js directory and all child directories</p>
                            </li>
                            <li>
                                <div><q>!js/app.js</q></div>
                                <p>Excludes js/app.js from the match, which is useful if you want to match all files in a directory except for a particular file</p>
                            </li>
                            <li>
                                <div><q>!js/app.js</q></div>
                                <p>Matches all files in the root directory ending in .js or .css</p>
                            </li>
                        </ul>
                    </section>
                    <section>
                        <h2>gulp.src()</h2>
                        <p>You can combine multiple glob rules for more specific filters</p>
                        <pre>
                            <code>
                                gulp.src(['js/**/*.js', '!js/**/*.min.js'])
                                    ...
                            </code>
                        </pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>gulp.dest()</h2>
                        <p>Outputs the files in the pipe/stream</p>
                        <pre>
                            <code>
                                gulp.src('./index.html')
                                    ...
                                    .pipe(gulp.dest('./'));
                            </code>
                        </pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>gulp.watch()</h2>
                        <p>Watch the file system for changes and executes</p>
                        <pre>
                            <code>
                               gulp.watch('js/**/*.js', ['uglify','reload']);
                            </code>
                        </pre>
                    </section>
                </section>
            </div>          

            <div class="slides">
                <section>
                    <section data-background="#400000">
                        <h2>Basic Exercises</h2>
                        <ul>
                            <li class="fragment roll-in">
                                <a href="https://www.npmjs.org/package/gulp-minify-css" target="_blank">CSS Minification using <strong>gulp-minify-css</strong></a>
                            </li>
                            <li class="fragment roll-in">
                                <a href="https://www.npmjs.org/package/gulp-imagemin" target="_blank">Image Optimization using <strong>gulp-imagemin</strong></a></li>
                            <li class="fragment roll-in">
                                <a href="https://www.npmjs.org/package/gulp-uglify" target="_blank">Javascript Minification using <strong>gulp-uglify</strong></a>
                            </li>
                            <li class="fragment roll-in">
                                <a href="https://github.com/gulpjs/gulp-util" target="_blank">Handling errors using <strong>gulp-util</strong></a>
                            </li>
                        </ul>
                </section>
            </div>

            <div class="slides">
                <section data-background="#400000">
                    <h2>Advanced exercises</h2>
                    <ul>
                        <li class="fragment roll-in">
                            <a href="https://www.npmjs.org/package/gulp-jshint" target="_blank">JSHint using <strong>gulp-jshint</strong></a>
                        </li>
                        <li class="fragment roll-in">
                            <a href="https://www.npmjs.org/package/gulp-less" target="_blank">LESS compilation using <strong>gulp-less</strong></a>
                        </li>
                        <li class="fragment roll-in">
                            <a href="http://www.browsersync.io/docs/gulp/" target="_blank">Synchronized browser testing with <strong>browser-sync</strong></a>
                        </li>
                        <li class="fragment roll-in">
                            <a href="https://www.npmjs.org/package/gulp-browserify" target="_blank">Bundle modules with <strong>browserify</strong></a>
                        </li>
                    </ul>
                </section>
            </div>

            <div class="slides">
                <section>
                    <img src="./assets/images/thanks.gif" alt="Thanks">
                </section>
            </div>
        <script src="./bower_components/reveal.js/js/reveal.min.js"></script>
        <script type="text/javascript">
            Reveal.initialize({ 
                autoSlide: 0,
                dependencies: [
                    // Syntax highlight for <code> elements
                    { 
                        src: './bower_components/reveal.js/plugin/highlight/highlight.js',
                        async: true,
                        callback: function() {
                            hljs.initHighlightingOnLoad();
                        }
                    }
                ]
            });
        </script>
    </body>
</html>